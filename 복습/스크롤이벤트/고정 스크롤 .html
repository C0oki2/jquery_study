<!DOCTYPE html>

<html lang="ko">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>중간섹션 흐름 변경</title>

  <style>

    * {margin: 0; padding: 0; box-sizing: border-box;}

    

    #slider {width: 100%; height: 1000px; background-color: gold;}

    #leftWrap {width: 100%; height: 2500px; background-color: skyblue;}

    #leftWrap .content {width: 3000px; position: sticky; top: 0;  display:flex;}

    #leftWrap .content img {width: 33.3%; height: 660px;}

​

    footer {width: 100%; height: 100vh; background-color: aquamarine;}

  </style>

​

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>  

​

</head>

<body style="overflow-x: hidden;">  //가로스크롤 없애기

  <div id="slider"></div>

  <div id="leftWrap">

    <div class="content">  //position:sticky로 고정

      <img src="https://images.unsplash.com/photo-1575721697801-937774cc44ab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80" alt="slide image">

      <img src="https://images.unsplash.com/photo-1503197979108-c824168d51a8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjExMjU4fQ&auto=format&fit=crop&w=1491&q=80" alt="slide image">

      <img src="https://images.unsplash.com/photo-1507496380922-d75b080daf03?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80" alt="slide image">

    </div>

  </div>

  <footer></footer>  

​

  <script>

    $(window).scroll(function(){

      let ws = $(this).scrollTop();  //현재 스크롤 위치값

      let fixWrap = $('#leftWrap').offset().top;  // 고정박스 위치

      let move = ws - fixWrap;  // 이동하는 구간

      let end = $('.content').width() - $(window).innerWidth();  // 끝지점

​

      if(ws > fixWrap && ws < fixWrap+end){      

        $('.content').css('transform',`translateX(-${move}px)`);

      }else if(ws >= fixWrap+end) {

        $('.content').css('transform',`translateX(-${end}px)`);

      }

    });

  </script>

</body>

</html>
